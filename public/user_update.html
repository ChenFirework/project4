<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta name="Keywords" content="关键词">
		<meta name="Description" content="描述">
		<title>Document</title>
	</head>
	<body>
		编号：<input type="text" id="tid"><br>
		用户名：<input type="text" id="tname"><br>
		密码：<input type="text" id="tpwd"><br>
		邮箱：<input type="text" id="email"><br>
		手机：<input type="text" id="phone"><br>
		性别：<input type="text" id="sex"><br>
		<button onclick="update()">修改</button>
		<script>
			function update(){
				var xhr=new XMLHttpRequest();
				xhr.onreadystatechange=function(){
					if (xhr.readyState==4 && xhr.status==200)
					{
						var result=xhr.responseText;
						if (result=="1")
						{
							alert("修改成功");
						}else{
							alert("修改失败");
						}
					}
				};
				xhr.open("put","/api/v1/updateuser",true);
				var $tid=tid.value;
				var $tname=tname.value;
				var $tpwd=tpwd.value;
				var $email=email.value;
				var $phone=phone.value;
				var $sex=sex.value;
				if ($sex=="男" || $sex=="1")
				{
					$sex=1;
				}else if ($sex=="女" || $sex=="0")
				{
					$sex=0;
				}
				var formdata="tid="+$tid+"&tname="+$tname+"&tpwd="+$tpwd+"&email="+$email+"&phone="+$phone+"&sex="+$sex;
				xhr.setRequestHeader("Content-Type","application/x-www-form-urlencoded");
				xhr.send(formdata);
			}
		</script>
	</body>
</html>
